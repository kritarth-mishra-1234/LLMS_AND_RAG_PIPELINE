'use strict';mix_d("SBXGwentCards__lifestyle-image-v4-creative-desktop:lifestyle-image-v4-creative-desktop__A-KludIB/es3","require exports tslib @c/remote-operations @c/logger @c/dom @c/pagemarker @c/aui-utils @c/metrics @c/aui-feature-detect @c/browser-operations @p/a-ajax @c/aui-modal @p/A @c/scoped-dom".split(" "),function(qa,ra,y,Qa,sa,Ra,Sa,ta,Ta,Ua,fa,Va,Wa,Xa,Ya){function H(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function E(a,b){return function(c){c=t(a,c);return b?
b(c):c}}function ua(a,b,c,e){b?(x("Send"+a+"Success"),c&&x("Send"+a+"Success_"+c),e&&x("Send"+a+"Success_"+e)):(x("Send"+a+"Failure"),c&&x("Send"+a+"Failure_"+c),e&&x("Send"+a+"Failure_"+e))}function va(a){return Array.isArray(a)?a.map(function(b){return y.__assign(y.__assign({},b),{width:0,height:0})}):{url:a.url,width:0,height:0}}function Za(a){a.getElements('[data-mix-operations~="dare-adb--countdown"]').forEach(function(b){var c,e=null===(c=b.parentElement)||void 0===c?void 0:c.dataset.timestamp;
if(e){var d=b.parentElement.dataset.template;if(d){var f=(new Date(e)).getTime();c=function(){var g,l=(new Date).getTime();l=Math.ceil((f-l)/1E3);if(0>l&&"undefined"!==typeof h)clearInterval(h),(null===(g=b.parentElement)||void 0===g?0:g.nextElementSibling)&&b.parentElement.remove();else{g=[];var k=Math.floor(l/3600%24);0<k&&g.push(("0"+k).slice(-2));g.push(("0"+Math.floor(l/60%60)).slice(-2));g.push(("0"+Math.floor(l%60)).slice(-2));b.innerText=d.replace("{time}",g.join(":"))}};c();var h=setInterval(c,
1E3)}else a.log("no template string for automated deal badge countdown","WARN")}else a.log("no timestamp for automated deal badge countdown","WARN")})}function $a(a){a.getElement&&a.getElements('[data-dare~="call-to-action"]').forEach(function(b){var c,e,d,f=a.getElement('[data-dare~="call-to-action--fallback"]',null!==(c=b.parentElement)&&void 0!==c?c:void 0),h=a.getElement(".a-truncate",b);c=a.getElement(".a-truncate-full",b);h&&c&&(c.clientHeight>h.clientHeight&&f?(f.style.display="block",null===
(e=b.parentElement)||void 0===e?void 0:e.removeChild(b)):(f=a.getElement('[data-dare~="call-to-action--chevron"]',b))&&!c.hasAttribute("data-dare-chevron")&&(b=c.innerText.split(" "),e=b.pop(),f=f.innerHTML,b="<span>".concat(b.join(" ")," </span><span>").concat(null===(d=null!==e&&void 0!==e?e:"")||void 0===d?void 0:d.trim(),"&nbsp;").concat(f,"</span>"),c.innerHTML=b,c.setAttribute("data-dare-chevron","true")))})}function wa(a){return P&&P.AUI_BUILD_DATE?!0:(a.log("AUI P not found","ERROR"),!1)}
function ab(a,b){var c=this;wa(a)&&P.when("A").execute(function(e){var d=e.capabilities.mobile;P.when(d?"a-secondary-view":"a-modal").execute(function(f){return aa(c,void 0,void 0,function(){var h,g=this;return ba(this,function(l){h=function(k,m){return aa(g,void 0,void 0,function(){var p,q,r,u,v,n,A,B,C,I;return ba(this,function(F){switch(F.label){case 0:p=k.currentTarget;if(!(p instanceof HTMLElement))return a.log("energy-efficiency-".concat(m," click target not an html element"),"WARN"),[2];if(f.get(p))return[2];
if(p.dataset.dareEeModalContent)try{q=JSON.parse(p.dataset.dareEeModalContent)}catch(W){return W instanceof Error&&a.log(W,"ERROR"),a.log("failed to parse eel payload","ERROR"),[2]}a:{var D=q;if("object"!==typeof D)var M=!1;else{M=0;for(D=[Object.getOwnPropertyDescriptor(D,"closeButtonLabel"),Object.getOwnPropertyDescriptor(D,"ficheImageUrl"),Object.getOwnPropertyDescriptor(D,"ficheTitle"),Object.getOwnPropertyDescriptor(D,"id"),Object.getOwnPropertyDescriptor(D,"labelImageUrl"),Object.getOwnPropertyDescriptor(D,
"labelTitle"),Object.getOwnPropertyDescriptor(D,"modalTitle")];M<D.length;M++){var S=D[M];if("string"!==typeof(null===S||void 0===S?void 0:S.value)){M=!1;break a}}M=!0}}if(!M)return a.log("energy-efficiency-".concat(m," data is invalid: ").concat(p.dataset.content),"WARN"),[2];"fiche"!==m||q.ficheImageUrl&&q.ficheTitle||a.log("energy-efficiency-".concat(m," payload is missing expected fiche data: ").concat(JSON.stringify(q)),"WARN");F.label=1;case 1:return F.trys.push([1,5,,6]),r="fiche"===m?q.ficheTitle:
q.labelTitle,u="fiche"===m?q.ficheImageUrl:q.labelImageUrl,v=a.createElement("img"),v.setAttribute("alt",null!==r&&void 0!==r?r:""),v.setAttribute("src",null!==u&&void 0!==u?u:""),null!==b&&void 0!==b&&b.generateModalContent?[4,b.generateModalContent(ca(ca({},q),{activeTab:m}))]:[3,3];case 2:return A=F.sent(),[3,4];case 3:A=null,F.label=4;case 4:return n=A,B=f.create(p,{closeButtonLabel:q.closeButtonLabel,header:d?void 0:q.modalTitle,inlineContent:d||!n?v.outerHTML:n.outerHTML,popoverLabel:null!==
(I=d?r:q.modalTitle)&&void 0!==I?I:"",width:d?void 0:"800"}),B.show(),[3,6];case 5:return C=F.sent(),C instanceof Error&&a.log(C,"ERROR"),a.log("failed to create eel popover","ERROR"),[3,6];case 6:return[2]}})})};a.addEventListener("dare-ee--label-click","click",function(k){return aa(g,void 0,void 0,function(){return ba(this,function(m){switch(m.label){case 0:return[4,h(k,"label")];case 1:return m.sent(),[2]}})})});a.addEventListener("dare-ee--fiche-click","click",function(k){return aa(g,void 0,void 0,
function(){return ba(this,function(m){switch(m.label){case 0:return[4,h(k,"fiche")];case 1:return m.sent(),[2]}})})});return[2]})})})})}function bb(a){var b=this;wa(a)&&P.when("mash").execute(function(c){a.addEventListener("dare-rcc--click","click",function(e){return cb(b,void 0,void 0,function(){var d,f,h;return db(this,function(g){d=e.currentTarget;if(!(d instanceof HTMLElement))return a.log("Rufus conversation trigger is not an HTML element","WARN"),[2];f=d.dataset.query;if(!f)return a.log("Rufus conversation trigger lacks query",
"ERROR"),[2];h=d.dataset.percolateRequestId;if(!h)return a.log("Rufus conversation trigger lacks percolateRequestId","ERROR"),[2];try{c.dispatchEvent({detail:{actionId:"SPARKLE_RELATED_QUESTION",actionType:"INVOKE_NILE_BACKEND_API",payload:{qis:"NileAdsSparkleRelatedQuestion",searchRequestId:h,triggerRequest:"SPARKLE_RELATED_QUESTION"},query:f},type:"savx:action"})}catch(l){l instanceof Error&&a.log(l,"ERROR"),a.log("Failed to dispatch Rufus conversation mash event","ERROR")}return[2]})})})})}function eb(a){var b,
c=null!==(b=null===a||void 0===a?void 0:a.strategy)&&void 0!==b?b:new fb;a=null===a||void 0===a?void 0:a.operations;try{Za(c)}catch(l){l instanceof Error&&c.log(l,"ERROR"),c.log("failed to enable automated deal badges","ERROR")}try{$a(c)}catch(l){l instanceof Error&&c.log(l,"ERROR"),c.log("failed to enable calls to action","ERROR")}try{var e=c.getElements('[data-dare="clamped-text"]');if(e.length&&!("-webkit-line-clamp"in e[0].style||"lineClamp"in e[0].style)){for(b=0;b<e.length;b++){var d=e[b],f=
parseInt(d.getAttribute("data-dare-max-rows")||"1"),h=Math.ceil(parseFloat(getComputedStyle(d).lineHeight||"1.3em")),g=f*h;if(!(d.scrollHeight<=g)){for(;d.scrollHeight>g;)d.innerText=d.innerText.slice(0,-1);d.innerText=d.innerText.slice(0,-3);d.innerText+="\u2026"}}c.log("polyfill applied to clamped text","WARN")}}catch(l){l instanceof Error&&c.log(l,"ERROR"),c.log("failed to enable clamped text","ERROR")}try{ab(c,{generateModalContent:null===a||void 0===a?void 0:a.generateEnergyEfficiencyModalContent})}catch(l){l instanceof
Error&&c.log(l,"ERROR"),c.log("failed to enable energy efficiency buttons","ERROR")}try{bb(c)}catch(l){l instanceof Error&&c.log(l,"ERROR"),c.log("failed to enable rufus conversation cue","ERROR")}}var J=H(sa),Q=H(Ra),gb=H(Sa),hb=H(ta),xa=H(Ta),ib=H(Ua),jb=H(fa),kb=H(Va),lb=H(Wa),T=H(Xa),mb=H(Ya),K,X;(function(a){a.Cornerstone="CSTONE";a.Axiom="AXIOM"})(X||(X={}));var nb=(K={},K.e="basebe.ClientErrors.4",K.i="basebe.Impressions.8",K.c="basebe.Clicks.5",K.s="basebe.Swipes.5",K.v="basebe.Viewabilities.6",
K.vc="basebe.VisualCompleteness.7",K.ss="basebe.slideshow.1",K.ia="basebe.ImpressionsV2.4",K.iv2="basebe.ImpressionsV3.2",K),ya=function(a,b){return"matches"in a?a.matches(b):"msMatchesSelector"in a?a.msMatchesSelector(b):"webkitMatchesSelector"in a?a.webkitMatchesSelector(b):0<=z(b,w().ownerDocument.body).indexOf(a)},w=function(a,b){b=b||Q["default"].cardRoot;return!a||ya(b,a)?b:b.querySelector(a)},z=function(a,b){return Array.prototype.slice.call((b||Q["default"].cardRoot).querySelectorAll(a))},
t=function(a,b){return(b=w("["+a+"]",b))?b.getAttribute(a):null},za=function(a,b){a:{for(var c="["+a+"]";b&&b!==Q["default"].cardRoot;){if(ya(b,c))break a;b=b.parentElement}b=null}return b?b.getAttribute(a):null},Aa=function(a){if(a)return a=a.getBoundingClientRect(),{left:a.left,right:a.right,top:a.top,bottom:a.bottom};a=N();return{left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}},N=function(){return w().ownerDocument.defaultView},R=function(a,b){J["default"].log(a,"ERROR",b||"SBX_GWENT")},
Ba=function(a){var b;a=/\?([^#]+)/.exec(a);if(!a)return[];a=a[1].split("&");var c=null;try{for(var e=y.__values(a),d=e.next();!d.done;d=e.next()){var f=d.value;if(0===f.indexOf("ref_=")){c=f;break}}}catch(g){var h={error:g}}finally{try{d&&!d.done&&(b=e.return)&&b.call(e)}finally{if(h)throw h.error;}}return c?(h=c.split("=").pop()||"")?h.split("_"):[]:[]},Ca=function(a,b,c){var e={};if(5<c.length){e.el=c.pop()||null;a:{var d;try{for(var f=y.__values(c),h=f.next();!h.done;h=f.next()){var g=h.value;
if(/^\d+$/.test(g)){var l=g;break a}}}catch(m){var k={error:m}}finally{try{h&&!h.done&&(d=f.return)&&d.call(f)}finally{if(k)throw k.error;}}l=null}e.index=l;e.asin=za("data-asin",b);e.type=za("data-avar",b)}a.c(e,b)},ob=function(a,b){var c=Ba(b.href);Ca(a,b,c)},pb=function(a,b){var c=N(),e=function(d){2!==d.button&&(ob(a,b),d.metaKey||d.altKey||d.shiftKey||d.ctrlKey||1===d.button||"_blank"===b.target||(d.preventDefault(),c.setTimeout(function(){c.open(b.href,b.target||"_top")},50)))};b.addEventListener("click",
e);b.addEventListener("auxclick",e)},Da=function(a,b,c){var e=w("[data-active]"),d=(null===e||void 0===e?void 0:e.dataset)||{};e=d.paginationId;d=d.index;b.c({el:"sb-slideshow-arrow",type:a,asin:void 0===e?null:e,index:void 0===d?null:d},c)},rb=function(a,b){z("[href]",b).filter(function(c){return!c.classList.contains("a-carousel-button")}).forEach(function(c){pb(a,c)});z(".amazon-follow",b).forEach(function(c){c.addEventListener("click",function(){var e=Ba("?&ref_="+c.getAttribute("data-ref"));Ca(a,
c,e)})});z('[data-mix-operations="handleNext"]').forEach(function(c){c.addEventListener("click",function(){Da("next",a,b)})});z('[data-mix-operations="handlePrev"]').forEach(function(c){c.addEventListener("click",function(){Da("prev",a,b)})});z('[data-mix-operations="handlePaginationClick"]').forEach(function(c){c.addEventListener("click",function(){var e=c.dataset||{},d=e.paginationId;e=e.index;a.c({el:"sb-slideshow-pagination",type:"pagination",index:void 0===e?null:e,asin:void 0===d?null:d},b)})});
z('[data-mix-operations="hotSpotClick"]').forEach(function(c){c.addEventListener("click",function(){var e,d=(c.dataset||{}).asinid;d=void 0===d?null:d;var f=c.style,h=f.left;f=f.top;var g=w('[data-asin="'+d+'"]')||void 0;g=((null===(e=w("[data-asinindex]",g))||void 0===e?void 0:e.dataset)||{}).asinindex;e=void 0===g?null:g;h={x:parseFloat(h),y:parseFloat(f)};h=JSON.stringify(h);d=y.__assign({type:h},{asin:d,el:"hotspot",index:e});a.c(d,c)})});qb(a)},qb=function(a){var b=w('[class*="seeProducts"]'),
c=w('[data-mix-operations="expandHandler"]'),e=z('[class*="sidebarButton"]'),d=[b,c].concat(e);if(d.length){var f=[];d.forEach(function(g){if(g){var l=g instanceof HTMLButtonElement&&!t("data-index",g)?"seeProducts":g instanceof HTMLButtonElement?"asinSidebar":"shoppableImageCollapsed",k={asin:g.dataset.asinid||null,index:g.dataset.index||null,el:l};l=function(){if(g){var m=y.__assign({type:"collapsed"},k);a.c(m,g);h(d,f)}};f.push(l);g.addEventListener("click",l)}});var h=function(g,l){g.forEach(function(k,
m){k&&k.removeEventListener("click",l[m])})}}},ha=E("data-card-metrics-id",function(a){return(a||"").split("_")[0]}),ia=E("data-var"),sb=E("data-rid"),tb=E("data-cid"),ub=E("data-iid"),Ea=E("data-aid"),Fa=E("data-aidx"),vb=E("data-idt",function(a){switch(a){case X.Axiom:return X.Axiom;default:return X.Cornerstone}}),da=E("data-rctx",function(a){return a?JSON.parse(a):{sid:"",cid:"",mid:"",aigen:null}}),ja=E("data-wl",function(a){return a?a.split(","):[]}),wb=E("data-slot"),ka=E("data-ts"),la=function(){var a=
N();return a.innerWidth+"x"+a.innerHeight},ma=function(a){return(a=a||Q["default"].cardRoot)?(a=a.getBoundingClientRect(),{width:a.width,height:a.height}):{width:0,height:0}},U=function(a,b){var c;b=b||Q["default"].cardRoot;return(a=null===(c=b.querySelector('[class*="'+a+'"]'))||void 0===c?void 0:c.getAttribute("src"))?a:null},na=function(a){return{id:t("data-asin",a),prime:!!w(".a-icon-prime",a),price:!!w(".a-price",a),savings:!!w('.a-price[data-a-strike="true"]',a),rating:t("data-rt",a),badge:t("data-deal",
a)}},Ga=function(a,b){var c=N(),e,d=function(){e||(e=c.setTimeout(a,b))};d.cancel=function(){c.clearTimeout(e);e=0};return d},oa=function(a,b,c){var e=(c||{}).ms||25,d=(c||{}).el||N(),f=hb["default"].throttle(b,e);d.addEventListener(a,f);return function(){d.removeEventListener(a,f)}},V={},Ia=function(a,b,c){void 0===c&&(c=!1);var e=a.getBoundingClientRect(),d=e.width*e.height;a=t("data-view-pixel",a);if(d){var f=e.top,h=e.bottom,g=e.left,l=e.right,k=N();e=k.innerHeight;g=Ha(g,l,k.innerWidth);f=Ha(f,
h,e);d=g*f/d;if(c)if(.5<=d)if(b)b();else return!0;else if(b)b.cancel();else return!0;else if(a)if(V[a]||(V[a]={percentageViewed:.5,startTimeInView:0}),c=V[a],c.percentageViewed=d,.5<=d){if(0===c.startTimeInView||1E3<Date.now()-c.startTimeInView)c.startTimeInView=Date.now();if(b)b();else return!0}else if(c.startTimeInView=0,b)b.cancel();else return!0}},Ha=function(a,b,c){return 0<=a?Math.max(Math.min(c-a,b-a),0):0<b?Math.max(Math.min(Math.min(b,c),b-a),0):0},Ja=function(a){var b,c,e=Date.now()-(null===
(b=V[a])||void 0===b?NaN:b.startTimeInView);b=null===(c=V[a])||void 0===c?void 0:c.percentageViewed;if(e&&b)if(c="/"===a.substr(-1)?a+"v/":a+"/v/",a=JSON.stringify({v:{def:"iab",event:"VIEWED",p:Math.round(100*V[a].percentageViewed),t:parseFloat((e/1E3).toFixed(3))},programType:"SBC"}),"function"===typeof window.fetch)fetch(c+encodeURI(a),{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:a}).then(function(f){f.ok||0===f.status||J["default"].log(f.status+" "+f.statusText,
"ERROR","sbx-ce-vcpm-fetch");x("PixelClientCallSuccess")}).catch(function(f){x("PixelClientCallFailure");J["default"].log(f,"ERROR","sbx-ce-vcpm-fetch")});else{var d=new XMLHttpRequest;d.open("POST",c+encodeURI(a));d.setRequestHeader("Content-Type","application/json");d.onreadystatechange=function(){4===d.readyState&&(200!==d.status?J["default"].log(d.status+" "+d.statusText,"ERROR","sbx-ce-vcpm-fetch"):x("PixelClientCallSuccess"))};d.onerror=function(){x("PixelClientCallFailure");J["default"].log("XMLHttpRequest error from old browser",
"ERROR","sbx-ce-vcpm-fetch")};d.send(a)}else e||x("PixelClientCallMissingTimeInView"),b||x("PixelClientCallMissingPercentageInView")},xb=function(a,b){var c=function(){Ia(b?b:w(),e)},e=Ga(function(){var h=t("data-view-pixel",b?b:w());h&&(Ja(h),h=w("[data-view-pixel]"),null===h||void 0===h?void 0:h.removeAttribute("data-view-pixel"));d();f();a.v(null,b)},1E3),d=oa("scroll",c,void 0),f=oa("resize",c,void 0);c()},yb=function(a){a&&a.forEach(function(b){var c=Ga(function(){var e=t("data-view-pixel",b);
e&&(Ja(e),null===b||void 0===b?void 0:b.removeAttribute("data-view-pixel"))},1E3);Ia(b,c)})},Ka=function(a,b){var c=null,e=null;a.addEventListener("touchstart",function(d){c=d.touches[0].pageX});a.addEventListener("touchmove",function(d){null===c&&(c=d.touches[0].pageX);e=d.touches[0].pageX});a.addEventListener("touchend",function(){null!==c&&null!==e&&b(e-c);c=e=null})},zb=function(a){if(ib["default"].isSupported("touch")){var b=w("[data-track-swipe]"),c=w("[data-trackswipe]"),e=function(d){var f=
Math.abs(d);if(30<f){var h=z("[data-view-pixel]");yb(h);a.s({direction:0>d?"left":"right",length:f})}};b?Ka(b,e):c&&Ka(c,e)}},Ab=function(a,b){var c=Date.now();b=z("img",b);var e=b.length,d=0,f=function(){++d===e&&a.vc({delay:Date.now()-c})};b.forEach(function(h){null!==t("data-lazy",h)&&null!==t("data-src",h)?h.addEventListener("load",function(){h.src===h.dataset.src&&f()}):h.complete?f():h.addEventListener("load",f)})},Bb=function(a){var b=a.campaignId,c=a.idType,e=a.slotName,d=a.market,f={eventV1:{anonymizedRequestId:a.anonymizedRequestId,
campaignId:b,slotName:e,idType:c,market:d,customerId:a.customerId,sessionId:a.sessionId,lob:a.lob},eventV2:{campaignId:b,slotName:e,idType:c,market:d,joinId:a.joinId}},h=function(g,l,k){try{var m=xa["default"],p=m.event,q=y.__assign({},f[l]);if(k)for(var r in k)Object.prototype.hasOwnProperty.call(k,r)&&(q[r]=k[r]);p.call(m,q,"base-be",nb[g],{ssd:!0})}catch(u){R(u)}};return{i:h.bind(null,"i","eventV1"),v:h.bind(null,"v","eventV1"),vc:h.bind(null,"vc","eventV1"),c:h.bind(null,"c","eventV1"),s:h.bind(null,
"s","eventV1"),ss:h.bind(null,"ss","eventV1"),ia:h.bind(null,"ia","eventV1"),iv2:h.bind(null,"iv2","eventV2"),e:function(g){h("e","eventV1",g&&{name:g.name,message:g.message,stack:g.stack})}}},La=function(a){var b=tb(a);var c=da(a).mid;b=Bb({anonymizedRequestId:sb(),campaignId:b,idType:vb(a),slotName:wb(),market:c,customerId:null,sessionId:null,lob:"UNKNOWN",joinId:null});var e=N();c=e.innerWidth;e=e.innerHeight;var d=ma(a),f=d.width;d=d.height;var h=da(a).aigen;b.i({asins:[].map.call(z("[data-asin]",
a),na),creativeType:ha(),creativeVariation:ia(a),version:ka(a),viewport:la(),weblabs:ja(a),adWidth:f,adHeight:d,viewportWidth:c,viewportHeight:e,storeBannerUrl:U("storeBanner",a),customImageUrl:U("lifestyleImage",a),isAiGen:h});rb(b,a);Ab(b,a);xb(b,a);zb(b);e=N();c=e.innerWidth;e=e.innerHeight;d=ma(a);f=d.width;d=d.height;h=da(a).aigen;b.ia&&b.ia({asins:[].map.call(z("[data-asin]",a),na),creativeType:ha(),creativeVariation:ia(a),version:ka(a),viewport:la(),weblabs:ja(a),adIndex:Fa(a),adId:Ea(a),adWidth:f,
adHeight:d,viewportWidth:c,viewportHeight:e,storeBannerUrl:U("storeBanner",a),customImageUrl:U("lifestyleImage",a),isAiGen:h});e=N();c=e.innerWidth;e=e.innerHeight;d=ma(a);f=d.width;d=d.height;h=da(a).aigen;b.iv2&&b.iv2({asins:[].map.call(z("[data-asin]",a),na),creativeType:ha(),creativeVariation:ia(a),version:ka(a),viewport:la(),weblabs:ja(a),adIndex:Fa(a),adId:Ea(a),adWidth:f,adHeight:d,viewportWidth:c,viewportHeight:e,storeBannerUrl:U("storeBanner",a),customImageUrl:U("lifestyleImage",a),isAiGen:h})},
x=function(a,b){void 0===b&&(b=1);xa["default"].count("sbxGwentClient"+a,b)},G={log:function(a){var b=N();var c=ub();(b=c&&b.sbxGwentClient&&"number"===typeof b.sbxGwentClient[c]?Date.now()-b.sbxGwentClient[c]:null)?x(a,b):x("NoPageTime")}},Cb=function(a){var b=a.url,c=a.onSuccess,e=a.onError;b||e();kb["default"].get(b,{success:function(d){d&&"ok"===d.status?c(d):e()},error:e,abort:e})},pa;(pa||(pa={})).adFeedbackHandler="adFeedbackHandler";var Db=function(a,b,c,e,d){try{var f=JSON.parse(a),h=y.__read(f,
6),g=h[0],l=h[1],k=h[2],m=h[3],p=h[4],q=h[5],r=[];Array.isArray(g)?g.forEach(function(v){return r.push({campaignId:c,creativeId:v})}):r.push({campaignId:c,creativeId:g});var u={adCreativeMetaData:{adCreativeId:Array.isArray(g)?g[0]:g,adId:b,adImpressionId:l,adNetwork:"aax",adProgramId:1010,adCreativeDetails:r},adPlacementMetaData:{adElementId:k,pageType:m,pageUrl:p,searchTerms:q,slotName:e,adProgramId:1010}};return d+"?pl="+encodeURIComponent(JSON.stringify(u))}catch(v){return null}},Ma=function(a){var b=
jb["default"].setup().define,c=!!t("data-ad-feedback-clicks"),e=!!t("data-ad-feedback-simulate"),d=a||"AdFeedbackSuccess",f="AdFeedbackPlaceholderClick",h=!1;c&&b(pa.adFeedbackHandler,"click",function(){G.log(f);"AdFeedbackPlaceholderClick"===f&&(h=!0)});a=t("data-ad-feedback");b=t("data-ad-feedback-url")||"/gp/aq-feedback/lazyLoad/handler/af-link-handler.html";if(a){c=t("data-slot");var g=t("data-aid"),l=t("data-cid");a=Db(a,g,l,c,b);Cb({url:a,onSuccess:function(k){var m=k.html;var p=w('[data-id="afb-content"]');
p&&m?(p.innerHTML=m,m=p):m=null;if(k=k.script)p=w().ownerDocument.createElement("script"),p.type="text/javascript",p.innerHTML=k,w().appendChild(p);G.log(d);f="AdFeedbackLinkClick";m&&h&&e&&((k=w("a",m))?(k.click(),k=!0):k=!1,G.log(k?"AdFeedbackSimulateClickSuccess":"AdFeedbackSimulateClickFail"))},onError:function(){G.log("AdFeedbackFallback");h&&e&&G.log("AdFeedbackSimulateClickFail")}})}},Y=function(a,b){var c,e=[];try{for(var d=y.__values(a.split(/[-_]/)),f=d.next();!f.done;f=d.next()){var h=
f.value;e.push(h.charAt(0).toUpperCase()+h.slice(1));if("creativeLevel"===b&&("desktop"===h||"mobile"===h))break}}catch(l){var g={error:l}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(g)throw g.error;}}return e.join("")},Fb=function(a,b,c,e,d,f,h,g,l,k,m){return y.__awaiter(void 0,void 0,void 0,function(){var p,q,r;return y.__generator(this,function(u){switch(u.label){case 0:p=function(){return{adCreativeMetaData:{adCreativeDetails:Eb(b,g,l,k,m)},adFeedbackLabelId:a}},q=function(v){var n=
v.baseMessage,A=v.deviceType,B=v.tabletEnv,C=v.slotName;C=y.__read([Y(v.creativeId,"creativeLevel"),Y(C,"slotLevel")],2);v=C[0];C=C[1];x(n);A&&(A=n+"_"+A,B&&(A+="_"+B),x(A));v&&x(n+"_"+v);C&&x(n+"_"+C)},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,c(p)];case 2:return u.sent(),q({baseMessage:"EnableAdFeedbackSuccess",deviceType:e,tabletEnv:d,creativeId:f,slotName:h}),[3,4];case 3:return r=u.sent(),q({baseMessage:"EnableAdFeedbackFailure",deviceType:e,tabletEnv:d,creativeId:f,slotName:h}),R(r),
[3,4];case 4:return[2]}})})},Gb=function(a){if(a){var b=a.split(" ");b.map(function(c,e){0<e&&(b[e]=c.substring(3,c.length))});b.pop();b.shift();return b}},Eb=function(a,b,c,e,d){var f=[],h=t("data-card-metrics-id")||"",g=t("data-slot")||"";h=y.__read([Y(h,"creativeLevel"),Y(g,"slotLevel")],2);var l=h[0],k=h[1];d&&d()!==a.length&&(a=a.filter(function(m){return w('[data-aid="'+m.adId+'"]')}));a.forEach(function(m,p){var q='[data-aid="'+m.adId+'"]';for(var r=w(q),u=b&&b()||document.body,v,n=0;(c?n<
c.length:0>n)&&!(v=w(q+' div[class*="'+(null===c||void 0===c?void 0:c[n])+'"] img'));n++);v?x("AfImagePresent_"+l):x("AfImageMissing_"+l);q=(null===v||void 0===v?void 0:v.getAttribute("src"))||void 0;n=Gb((null===v||void 0===v?void 0:v.getAttribute("srcset"))||void 0);var A=(null===n||void 0===n?void 0:n.length)||1;v=[];for(var B=0;B<A;B++)v.push({url:(null===n||void 0===n?void 0:n[B])||""});q={url:q?q:""};ua("SelectionSignals",m.selectionSignals,l,k);ua("AdvertiserIdNS",m.advertiserIdNS,l,k);if(r){(n=
1===a.length||e)||(r=Aa(r),u?((n=w('[data-index="'+p+'"]'))?n=0===n.offsetHeight&&0===n.offsetWidth?!0:!1:(J["default"].log("container Element for ad number "+p+" is not found","WARN","DSA/AdFeedback"),n=!0),n?n=!1:(u=Aa(u),r.left===u.left||r.right===u.right?(n=r.left,(n=n>=u.left&&n<=u.right)||(r=r.right,n=r>=u.left&&r<=u.right),u=n):(n=r.left,(n=n>u.left&&n<u.right)||(r=r.right,n=r>u.left&&r<u.right),u=n),n=u)):n=void 0);if(n){u=f.push;r=m.campaignId;n=m.adId;A=m.title;v={lowResolutionImage:va(q),
highResolutionImages:va(v)};if(m.selectionSignals){q=m.selectionSignals;switch(q.pastActivity){case "STORE_ONLY":B=1;break;default:B=0}q=y.__assign(y.__assign({},q),{pastActivity:B})}else q=void 0;u.call(f,{campaignId:r,adId:n,adCreativeIndex:p,title:A,adCreativeImage:v,selectionSignals:q,advertiserIdNS:m.advertiserIdNS})}x("adElementPresent_"+l)}else x("adElementMissing"),J["default"].log("adElement is not found: "+JSON.stringify(m),"WARN","DSA/AdFeedback"),x("adElementMissing_"+l)});return f},Na=
function(){z('[data-id="cta"]').forEach(function(a){if(a.parentElement){var b=w('[data-id*="cta-fallback"]',a.parentElement),c=w(".a-truncate",a),e=w(".a-truncate-full",a);c&&e&&(e.clientHeight>c.clientHeight&&b?(b.style.display="block",a.parentElement.removeChild(a)):(b=a.parentElement.getAttribute("aria-hidden"),b&&"false"!==b||(b=a.getAttribute("data-label")||e.innerHTML,a.parentElement.setAttribute("aria-label",b)),(c=w('[data-id*="cta-chevron"]',a))&&!e.hasAttribute("data-chevron")&&(e.setAttribute("data-chevron",
"true"),a=e.innerHTML.split(" "),b=a.pop(),c=c.innerHTML,e.innerHTML="<span>"+a.join(" ")+" </span><span>"+b+"&nbsp;"+c+"</span>")))}})},Hb=function(a){var b=t("data-src",a)||"",c=t("data-srcset",a)||"",e=a.cloneNode();e.removeAttribute("data-src");e.removeAttribute("data-srcset");e.removeAttribute("data-lazy");e.srcset=c;e.src=b;a.parentNode&&a.parentNode.insertBefore(e,a);e.onload=function(){a.style.opacity="0";G.log("LazyLoaded")}},Ib=function(){var a=z('[class*="eelModalRoot"]');a&&a.forEach(function(b,
c){var e=t("data-modal-trigger",b),d=t("data-title",b),f=t("data-modal-settings",b);f=JSON.parse(f||"{}");if(e){c="eel-cards-modal-"+c;var h="."+b.className.split(" ")[0],g=lb["default"].create(c,h,{closeButton:(null===f||void 0===f?void 0:f.closeButton)||!1,a11yOpenMessage:d||"Energy Efficiency & Product Fiche",width:(null===f||void 0===f?void 0:f.width)||800});d=fa.setup();f=d.define;d=d.attach;g.once("beforeShow",function(){T["default"].loadDescendantImagesManually(b)});f("modal-handler-"+e,["click"],
function(){g.show()});f("modal-close-handler-"+e,["click"],function(){g.hide()});f=w('[data-mix-operations="modal-handler-'+e+'"]');e=w('[data-mix-operations="modal-close-handler-'+e+'"]');f&&e&&(d("modalHandler",f),d("modalClose",e))}})},Jb=function(a){var b=function(e,d){e={$event:{preventDefault:T["default"].$.noop,stopPropagation:T["default"].$.noop},$target:e.getContent().find('[data-a-tab-name="'+d+'"]'),data:{name:"energyEfficiencyTabSet"}};T["default"].trigger("a:declarative:a-tabs:click",
e)},c=function(e,d){var f=e&&e.$event,h=e&&e.data||{},g=h.name;f&&f.preventDefault&&f.preventDefault();f&&f.stopPropagation&&f.stopPropagation();e&&f&&h&&g&&d&&(f=d.get(g),f||(T["default"].on("a:popover:beforeShow:"+g,function(l){var k,m,p;l.popover&&l.popover.getContent&&(l=l.popover.getContent(),null===(m=null===(k=null===l||void 0===l?void 0:l.find(".a-manually-loaded"))||void 0===k?void 0:k.parent())||void 0===m?void 0:m.css("min-height",null!==(p=h.modalHeight)&&void 0!==p?p:800),T["default"].loadDescendantImagesManually(l))}),
f=d.create(e.$target,h)),f&&(f.show(),h.activeTabName&&b(f,h.activeTabName)))};a&&a.when("a-secondary-view").execute("RegisterEnergyEfficiencyEventMobile",function(e){T["default"].declarative("card-energy-efficiency-secondary-view","click",function(d){c(d,e)})})},Lb=function(){z("span[data-ad-deal-end-time]").forEach(function(a){var b=t("data-ad-deal-end-time",a);a&&null!==b&&Kb(a,b)})},Kb=function(a,b){var c=ta.interval(function(){var e=(new Date(b)).getTime(),d=Date.now();d=Math.floor((e-d)/1E3);
if(0>d)clearInterval(c);else{var f=Math.floor(d/60%60);e=Math.floor(d%60);d=("0"+Math.floor(d/3600%24)).slice(-2);f=("0"+f).slice(-2);e=("0"+e).slice(-2);a.innerText=d+":"+f+":"+e}},1E3)},Nb=function(a){return function(){return y.__awaiter(void 0,void 0,void 0,function(){var b,c,e,d,f,h,g,l,k,m,p,q,r,u,v,n,A,B,C;return y.__generator(this,function(I){switch(I.label){case 0:return G.log("Loaded"),b=a||{},c=b.loadAdFeedback,e=b.onLoad,d=b.onInit,f=b.isMobile,h=b.enableAdFeedback,g=b.creativeContainer,
l=b.creativeImageContainer,k=b.bypassAdFeedbackViewportCheck,m=b.renderedAdsCount,d&&d(),[4,gb["default"].pageReady];case 1:I.sent();G.log("Ready");try{var F=w(".sbx-no-js",void 0);F&&F.classList.remove("sbx-no-js");try{var D=z("[data-cid]");D.length?D.forEach(La):La()}catch(L){R(L)}try{Na(),oa("resize",Na,void 0)}catch(L){R(L)}try{z('img[data-lazy="true"]').forEach(Hb)}catch(L){R(L)}w('[class*="eelModalRoot"]')?Ib():w('[data-action*="card-energy-efficiency-"]')&&Jb(window.P);var M,S;if(!("-webkit-line-clamp"in
Q["default"].cardRoot.ownerDocument.body.style||"lineClamp"in Q["default"].cardRoot.ownerDocument.body.style)){var W=z('[class*="_sbTruncatedTitle_"]');if(W.length)try{for(var ea=y.__values(W),Z=ea.next();!Z.done;Z=ea.next()){var O=Z.value,Mb=parseInt(O.getAttribute("data-totallines")||"1"),Oa=Math.ceil(parseFloat((null===(S=Q["default"].cardRoot.ownerDocument.defaultView)||void 0===S?void 0:S.getComputedStyle(O).lineHeight)||"1.3em"))*Mb;if(!(O.scrollHeight<=Oa)){for(;O.scrollHeight>Oa;)O.innerText=
O.innerText.slice(0,-1);O.innerText=O.innerText.slice(0,-3);O.innerText+="\u2026"}}}catch(L){var Pa={error:L}}finally{try{Z&&!Z.done&&(M=ea.return)&&M.call(ea)}finally{if(Pa)throw Pa.error;}}}e&&e();t("data-deal-badge-automated")&&t("data-ad-deal-end-time")&&Lb();F=f;if(void 0!==F&&!window.sbxGwentClientDPR)try{window.sbxGwentClientDPR=!0,x((F?"Mobile":"Desktop")+"DPR"+(4>=Math.round(2*window.devicePixelRatio)/2?Math.round(2*window.devicePixelRatio)/2:"4Plus"))}catch(L){R(L)}}catch(L){R(L)}p=t("data-ad-feedback-label-id");
q=t("data-ad-creative-list");r=t("data-device-type")||"";u=t("data-tablet-env")||"";v=t("data-card-metrics-id")||"";n=t("data-slot")||"";A=Y(v,"creativeLevel");if(!p||!q)return[3,6];I.label=2;case 2:return I.trys.push([2,4,,5]),B=JSON.parse(q),[4,Fb(p,B,h,r,u,v,n,g,l,k,m)];case 3:return I.sent(),x("NewAdFeedbackImplementationEnabled_"+A),[3,5];case 4:return C=I.sent(),c&&Ma(),R("Failed to generate adFeedback rendering payload: "+C,"DSA/AdFeedback"),x("FallbackToOldAdFeedbackImplementation_"+A),[3,
5];case 5:return[3,7];case 6:c&&Ma(),x("FallbackToOldAdFeedbackImplementation_"+A),R("Missing adFeedbackLabelId or adCreativeList","DSA/AdFeedback"),I.label=7;case 7:return[2]}})})}},ca=function(){ca=Object.assign||function(a){for(var b,c=1,e=arguments.length;c<e;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}return a};return ca.apply(this,arguments)},aa=function(a,b,c,e){function d(f){return f instanceof c?f:new c(function(h){h(f)})}return new (c||(c=Promise))(function(f,
h){function g(m){try{k(e.next(m))}catch(p){h(p)}}function l(m){try{k(e["throw"](m))}catch(p){h(p)}}function k(m){m.done?f(m.value):d(m.value).then(g,l)}k((e=e.apply(a,b||[])).next())})},ba=function(a,b){function c(k){return function(m){return e([k,m])}}function e(k){if(f)throw new TypeError("Generator is already executing.");for(;l&&(l=0,k[0]&&(d=0)),d;)try{if(f=1,h&&(g=k[0]&2?h["return"]:k[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&!(g=g.call(h,k[1])).done)return g;if(h=0,g)k=[k[0]&2,
g.value];switch(k[0]){case 0:case 1:g=k;break;case 4:return d.label++,{value:k[1],done:!1};case 5:d.label++;h=k[1];k=[0];continue;case 7:k=d.ops.pop();d.trys.pop();continue;default:if(!(g=d.trys,g=0<g.length&&g[g.length-1])&&(6===k[0]||2===k[0])){d=0;continue}if(3===k[0]&&(!g||k[1]>g[0]&&k[1]<g[3]))d.label=k[1];else if(6===k[0]&&d.label<g[1])d.label=g[1],g=k;else if(g&&d.label<g[2])d.label=g[2],d.ops.push(k);else{g[2]&&d.ops.pop();d.trys.pop();continue}}k=b.call(a,d)}catch(m){k=[6,m],h=0}finally{f=
g=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}var d={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,h,g,l;return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l},cb=function(a,b,c,e){function d(f){return f instanceof c?f:new c(function(h){h(f)})}return new (c||(c=Promise))(function(f,h){function g(m){try{k(e.next(m))}catch(p){h(p)}}function l(m){try{k(e["throw"](m))}catch(p){h(p)}}function k(m){m.done?
f(m.value):d(m.value).then(g,l)}k((e=e.apply(a,b||[])).next())})},db=function(a,b){function c(k){return function(m){return e([k,m])}}function e(k){if(f)throw new TypeError("Generator is already executing.");for(;l&&(l=0,k[0]&&(d=0)),d;)try{if(f=1,h&&(g=k[0]&2?h["return"]:k[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&!(g=g.call(h,k[1])).done)return g;if(h=0,g)k=[k[0]&2,g.value];switch(k[0]){case 0:case 1:g=k;break;case 4:return d.label++,{value:k[1],done:!1};case 5:d.label++;h=k[1];k=[0];
continue;case 7:k=d.ops.pop();d.trys.pop();continue;default:if(!(g=d.trys,g=0<g.length&&g[g.length-1])&&(6===k[0]||2===k[0])){d=0;continue}if(3===k[0]&&(!g||k[1]>g[0]&&k[1]<g[3]))d.label=k[1];else if(6===k[0]&&d.label<g[1])d.label=g[1],g=k;else if(g&&d.label<g[2])d.label=g[2],d.ops.push(k);else{g[2]&&d.ops.pop();d.trys.pop();continue}}k=b.call(a,d)}catch(m){k=[6,m],h=0}finally{f=g=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}var d={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},
trys:[],ops:[]},f,h,g,l;return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l},fb=function(a){function b(c){var e,d,f=a.call(this)||this;f._define=null!==(e=null===c||void 0===c?void 0:c.defineBrowserOperations)&&void 0!==e?e:fa.setup().define;f._useScopedDom=null!==(d=null===c||void 0===c?void 0:c.useScopedDom)&&void 0!==d?d:!0;return f}y.__extends(b,a);Object.defineProperty(b.prototype,"_dom",{get:function(){return this._useScopedDom?
mb["default"]:Q["default"]},enumerable:!1,configurable:!0});b.prototype.addEventListener=function(c,e,d){return this._define(c,e,d)};b.prototype.createElement=function(c){return this._dom.createElement(c)};b.prototype.getElement=function(c,e){c=(null!==e&&void 0!==e?e:this._dom.cardRoot).querySelector(c);return c instanceof HTMLElement?c:void 0};b.prototype.getElements=function(c,e){return Array.from((null!==e&&void 0!==e?e:this._dom.cardRoot).querySelectorAll(c))};b.prototype.log=function(c,e,d){return sa.log(c,
e,null!==d&&void 0!==d?d:"DARE_CARDS")};return b}(function(){function a(){}a.prototype.addEventListener=function(b,c,e){throw Error('addEventListener() not implemented! called with: operation "'.concat(b,'"; event "').concat(c,'"; callback "').concat(e,'"'));};a.prototype.createElement=function(b){throw Error('createElement() not implemented! called with: tagName "'.concat(b,'"'));};a.prototype.getElement=function(b,c){throw Error('getElement() not implemented! called with: selector "'.concat(b,'"; root "').concat(c,
'"'));};a.prototype.getElements=function(b,c){throw Error('getElements() not implemented! called with: selector "'.concat(b,'"; root "').concat(c,'"'));};a.prototype.log=function(b,c,e){throw Error('log() not implemented! called with: message "'.concat(b,'"; level "').concat(c,'"; attribution "').concat(e,'"'));};return a}()),Ob=function(){return y.__awaiter(void 0,void 0,void 0,function(){var a,b,c,e,d,f,h;return y.__generator(this,function(g){switch(g.label){case 0:b=t("data-device-type");c=t("data-ad-feedback-payload");
try{c&&(e=null===(h=null===(f=JSON.parse(c))||void 0===f?void 0:f.adPlacementMetaData)||void 0===h?void 0:h.pageType)}catch(l){J["default"].log("Failed to parse adFeedbackPayload "+c,"ERROR"),J["default"].log(l,"ERROR")}g.label=1;case 1:return g.trys.push([1,6,,7]),"Search"!==e||"tablet"!==b&&"mobile"!==b?[3,3]:[4,new Promise(function(l,k){qa(["./es3@index"],l,k)})];case 2:return a=g.sent().enableAdFeedback,[3,5];case 3:return[4,new Promise(function(l,k){qa(["./es3@index2"],l,k)})];case 4:a=
g.sent().enableAdFeedback,g.label=5;case 5:return[2,a];case 6:return d=g.sent(),J["default"].log("Failed to load adFeedback module","ERROR"),J["default"].log(d,"ERROR"),[3,7];case 7:return[2]}})})},Pb={T1:0,T2:1E3,T3:2E3,T4:3E3,T5:4E3,T6:5E3,T7:6E3,T8:7E3,T9:8E3},Qb=function(a){"complete"===document.readyState||"interactive"===document.readyState?a():document.addEventListener("DOMContentLoaded",a)};ra._operationNames=["generateEnergyEfficiencyModalContent"];ra.card=function(){return y.__awaiter(void 0,
void 0,void 0,function(){var a;return y.__generator(this,function(b){switch(b.label){case 0:return[4,Ob()];case 1:return a=b.sent(),Nb({enableAdFeedback:a,loadAdFeedback:!0,onLoad:function(){G.log("LifestyleOnLoad");var c=Qa.setup(["generateEnergyEfficiencyModalContent"]);eb({operations:c});var e=t("data-lazy-load");e&&Qb(function(){setTimeout(function(){var d=w("img[data-lifestyle-img]"),f=d&&d.getAttribute("src");if(d&&f){f=f.replace("_QL50_","_QL70_");var h=f.replace,g=window.innerWidth,l=2<=window.devicePixelRatio?
2:1,k=405*l;1470<=g?k=507*l:1400<=g?k=468*l:1250<=g&&(k=430*l);f=h.call(f,"_SX405_","_SX"+k+"_");d.setAttribute("src",f);G.log("LazyLoadLifestyle"+e)}},Pb[e]||0)})},onInit:function(){try{P.when("af").execute(function(){return G.log("LifestyleAF")})}catch(c){G.log("LifestyleAFError")}},creativeImageContainer:["container"],isMobile:!1})(),[2]}})})}});
